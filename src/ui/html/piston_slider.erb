<!DOCTYPE html>
<html lang="de">
<link rel="stylesheet" href="<%= @root_dir %>/ui/css/ui.css" type="text/css">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="<%= @root_dir %>/ui/node_modules/chart.js/dist/Chart.min.js"></script>
    <title>PistonSlider</title>
</head>
<body>
<% for piston_id in @pistons.keys %>
    <input id="<%= piston_id %>" type="range" min="0" max="1" value="0.5" step="0.01" onchange="onChange(this.id, this.value)">
    <button id="<%= piston_id %>" class="tool" onclick="onClick(this.id)">Test</button>
<% end %>
<br><br>
Breaking Force:
<br>
<input type="number" min = "0" value="<%= @breaking_force %>" step="1" onchange="set_breaking_force(this.value)"> N
<br><br>
Maximum Speed (0 for continuous acceleration):
<br>
<input type="number" value="<%= @max_speed %>" step="0.1" onchange="set_max_speed(this.value)"> m/s
<br><br>
<button class="tool" onclick="play_pause_simulation()">Play/Pause Simulation</button><br>
Highest Force Mode:
<input id="force_mode_checkbox" type="checkbox" onChange="change_highest_force_mode()">

<script type="text/javascript">
    function onChange(id, newValue) {
        sketchup.change_piston(id, newValue);
    };

    function onClick(id) {
        sketchup.test_piston(id)
    };

    function set_breaking_force(value) {
        sketchup.set_breaking_force(value)
    };

    function set_max_speed(value) {
        sketchup.set_max_speed(value)
    };

    function play_pause_simulation() {
        sketchup.play_pause_simulation()
    };

    function change_highest_force_mode() {
        sketchup.change_highest_force_mode(force_mode_checkbox.checked)
    };
</script>
</body>
</html>
