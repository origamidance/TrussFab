require "./simulation_runner.rb"
require "./generate_modelica_model.rb"

task default: %w[test]

task :compile do
  sim = SimulationRunner.new()
end

task :test_simple_seesaw do
  file = File.read("./modelica_model_generation/simple_seesaw.json")
  modelica_model_string = generate_modelica_file(file)
  model_name = "LineForceGenerated"

  File.open(model_name + ".mo", 'w') { |file| file.write(modelica_model_string) }

  sim = SimulationRunner.new(model_name='LineForceGenerated')
  p sim.get_period()
end

task :test_get_period do
  sim = SimulationRunner.new()
  p sim.get_period()
end

task default: %w[test]
